(function(){angular.module("BaitsaagchApp",["ngRoute","ngSanitize"]);function t(t,e){t.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/help",{templateUrl:"common/views/genericText.view.html",controller:"helpCtrl",controllerAs:"vm"}).when("/transport/:bus_id",{templateUrl:"/transport/transport.view.html",controller:"transportCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});e.html5Mode(true)}angular.module("BaitsaagchApp").config(["$routeProvider","$locationProvider",t])})();(function(){angular.module("BaitsaagchApp").controller("homeCtrl",t);t.$inject=["myGlobalVars","baitsaagchData"];function t(t,e){var a=this;a.sidebar={hello:"Энэ өдрийн мэнд!",content:"Энэхүү апп нь авто тээврийн байцаагчийн ажлыг хөнгөвчилхөд зориулсан апп юм. Нэмэлт боломжуудыг оруулахыг хүсвэл BaitsaagchApp @yahoo.com хаягаар холбогдоно уу."};a.message="Checking transports information";e.getTransportsList(t.name).then(function t(e){a.message=e.data.length>0?"":"Энэ байршилд ирэх автобус олдсонгүй";a.transports=e.data},function t(e){a.message="Sorry, something's gone wrong"})}})();(function(){angular.module("BaitsaagchApp").controller("transportCtrl",t);t.$inject=["$routeParams","baitsaagchData"];function t(t,e){var a=this;e.getTransport(t.bus_id).then(function t(e){a.transport=e.data;a.content={speed:(a.transport.distance/(Math.abs(Date.now()+144e5-Date.parse(a.transport.fromDate))/(1e3*60*60)).toFixed(1)).toFixed(2)+"км/цаг"}},function t(e){console.log("ene duudagdana gej baihguiee")});a.change=function(){if(a.restTime>(Math.abs(Date.now()+144e5-Date.parse(a.transport.fromDate))/(1e3*60*60)).toFixed(1)){a.content={speed:"Амарсан цаг явсан цагаас хэтэрч болохгүй"}}else if(a.restTime==null){a.content={speed:(a.transport.distance/(Math.abs(Date.now()+144e5-Date.parse(a.transport.fromDate))/(1e3*60*60)).toFixed(1)).toFixed(1)+"км/цаг"}}else{a.content={speed:(a.transport.distance/((Math.abs(Date.now()+144e5-Date.parse(a.transport.fromDate))/(1e3*60*60)).toFixed(1)-a.restTime)).toFixed(1)+"км/цаг"}}};a.submit=function(){console.log(a.transport._id);var t,n,r;if(a.chb1==true)t=true;else t=false;if(a.chb2==true)n=true;else n=false;if(a.chb3==true)r=true;else r=false;e.updateCameDate(a.transport._id,t,n,r).then(function t(e){},function t(e){})}}})();(function(){angular.module("BaitsaagchApp").controller("locSelectCtrl",t);t.$inject=["$scope","$route","myGlobalVars"];function t(t,e,a){var n=this;t.locs=[{name:"Улаанбаатар"},{name:"Дархан"},{name:"Чойр"},{name:"Замын Үүд"}];t.getHoPa=function(t){if(t!=null){a.name=t.name;e.reload()}}}})();(function(){angular.module("BaitsaagchApp").controller("helpCtrl",t);function t(){var t=this;t.main={content:"Нүүр хуудсанд ирж бүртгүүлэх ёстой автобуснуудын жагсаалт байгаа\nменюнд байрлах байршлуудаас өөрийн байршлийг сонгон харах боломжтой\nАлдаж бүртгэсэн тохиолдолд буцаах боломж нүүр хуудсанд байгаа"}}})();(function(){angular.module("BaitsaagchApp").service("baitsaagchData",t);t.$inject=["$http"];function t(t){var e=function(e){return t.get("/api/transports/"+e)};var a=function(e){return t.get("/api/transport/"+e)};var n=function(e,a,n,r){return t.put("/api/transport/"+e+"/"+a+"/"+n+"/"+r)};return{getTransportsList:e,getTransport:a,updateCameDate:n}}})();(function(){angular.module("BaitsaagchApp").service("myGlobalVars",t);function t(){return{name:"Улаанбаатар"}}})();(function(){angular.module("BaitsaagchApp").directive("footerGeneric",t);function t(){return{restrict:"EA",templateUrl:"/common/directives/footerGeneric/footerGeneric.template.html"}}})();(function(){angular.module("BaitsaagchApp").directive("navigation",t);function t(){return{restrict:"EA",templateUrl:"/common/directives/navigation/navigation.template.html"}}})();